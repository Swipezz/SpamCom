<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="stylesheet" href="static/style/style.css">
<title>Follow Content</title>
</head>
<body>
    <div class="container">
            <button id="1" class="follow-element">Follow Me</button>
            <button id="2" class="follow-element">Follow Me</button>
            <button id="3" class="follow-element">Follow Me</button>
            <button id="4" class="follow-element">Follow Me</button>
            <br><br><br>
            <button id="trash">Trash</button>
        </div>
    </div>


<script>
    var followItems = document.querySelectorAll(".follow-element")

    function moveItem(event) {
        if (this.dataset.active === "true") {
            var maxX = this.parentElement.offsetWidth - this.offsetWidth
            var maxY = this.parentElement.offsetHeight - this.offsetHeight

            var newX = Math.min(maxX, Math.max(0, event.clientX - this.offsetWidth / 2))
            var newY = Math.min(maxY, Math.max(0, event.clientY - this.offsetHeight / 2))

            this.style.left = newX + "px"
            this.style.top = newY + "px"
        }
    }

    followItems.forEach(function(item) {
        item.addEventListener("mousedown", function(event) {
            item.dataset.active = "true"
            item.style.pointerEvents = "none"
            item.style.position = "absolute"
        })
    })

    document.addEventListener("mousemove", function(event) {
        followItems.forEach(function(item) {
            moveItem.call(item, event)
        })
    })

    document.addEventListener("mouseup", function() {
        followItems.forEach(function(item) {
            item.dataset.active = "false"
            item.style.pointerEvents = "auto"
        })
    })

    document.getElementById("trash").addEventListener("mouseup", function() {
        followItems.forEach(function(item) {
            if (item.dataset.active === "true") {
                item.remove()
            }
        })
    })
</script>
</body>
</html>
