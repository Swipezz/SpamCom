<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Follow Content</title>
<style>
.help {
    position: relative;
    width: 300px;
    height: 300px;
    border: 2px solid;
}
.follow-element {
    position: absolute;
    cursor: pointer;
}
</style>
</head>
<body>
    <div class="help">
        <button id="1" class="follow-element">Follow Me</button>
        <button id="2" class="follow-element">Follow Me</button>
        <button id="3" class="follow-element">Follow Me</button>
        <button id="4" class="follow-element">Follow Me</button>
        <br><br><br>
        <button id="welcome">Welcome</button>
    </div>


<script>
// Function to handle mousemove event
function moveElement(event) {
    if (this.dataset.active === 'true') {
        // Calculate the maximum allowed position for the button
        var maxX = this.parentElement.offsetWidth - this.offsetWidth;
        var maxY = this.parentElement.offsetHeight - this.offsetHeight;

        // Calculate the new position for the button
        var newX = Math.min(maxX, Math.max(0, event.clientX - this.offsetWidth / 2));
        var newY = Math.min(maxY, Math.max(0, event.clientY - this.offsetHeight / 2));

        // Set the new position
        this.style.left = newX + 'px';
        this.style.top = newY + 'px';
    }
}


// Get all elements with class "follow-element"
var followElements = document.querySelectorAll('.follow-element');

// Loop through each element and attach mouse down/up event listener
followElements.forEach(function(element) {
    element.addEventListener('mousedown', function(event) {
        element.dataset.active = 'true';
        element.style.pointerEvents = 'none'; // Disable pointer events
    });
});

// Add mousemove event listener on document
document.addEventListener('mousemove', function(event) {
    followElements.forEach(function(element) {
        moveElement.call(element, event);
    });
});

// Add mouseup event listener on document to reset active state
document.addEventListener('mouseup', function() {
    followElements.forEach(function(element) {
        element.dataset.active = 'false';
        element.style.pointerEvents = 'auto'; // Enable pointer events
    });
});

// Add mouseenter event listener to the "Welcome" button
document.getElementById('welcome').addEventListener('mouseup', function() {
    followElements.forEach(function(element) {
        if (element.dataset.active === 'true') {
            element.remove()
        }
    });
});
</script>
</body>
</html>
